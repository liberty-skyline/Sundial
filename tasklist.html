<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sundial</title>
    <!-- index stylesheet -->
    <link rel="stylesheet" type="text/css" href="./css/index.css" />
    <!-- scripts -->
    <script src="scripts/task.js" ></script>
    <script src="scripts/taskmanager.js" ></script>
    <script src="scripts/timer.js" ></script>
    <script src="scripts/common.js" ></script>
    <script src="scripts/form.js" ></script>

  </head>
  <body>
      <main>
          <div class="card-2">
            <div id="upcoming-tasks-1" class="upcoming-tasks-1">
                <span class="upcoming-tasks-2">
                  Your Upcoming Tasks
                </span>
                <div class="upcoming-tasks-3">
                  <div class="upcoming-tasks-4">
                    <span class="upcoming-tasks-5">
                      5:00
                    </span>
                  </div>
                  <div class="upcoming-tasks-6">
                    <span class="upcoming-tasks-7">
                      Break
                    </span>
                  </div>
                </div>
              </div>
              <div class="add-tasks-1">
                <div>
                  <input id="task-name" type="text" class="add-tasks-2" id="task-name" name="task-name" placeholder="Add Task">
                  <button type="submit" onclick="submit()" class="add-tasks-5">+</button>
                </div>
                <div>
                  <label for="add-tasks-3">Task Duration</label>
                  <input id="task-duration" type="number" class="add-tasks-3" id="task-duration" name="task-duration" value="25" min="5" max="150" step="5">
                  <label for="add-tasks-4">Task Urgency</label>
                  <input id="task-urgency" type="range" class="add-tasks-4" id="task-urgency" name="task-urgency" value="0" min="-2" max="2">
                </div>                    
              </div>
          </div>
      </main>
      <script>
        Timer.stopTimer();
        if(localStorage.getItem("taskStack")) {
          TaskManager.taskStack = JSON.parse(localStorage.getItem("taskStack"));
          updateTasks(false);
        }


        const submit = () => {
          if(!addTask()[0]) {
            return false;
          } else {
            updateLocalStorage();
            updateTasks(false);
            document.getElementById("task-name").value = "";
          }
        }

      </script>
  </body>
</html>
